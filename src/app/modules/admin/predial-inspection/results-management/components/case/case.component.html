<cdk-accordion class="example-accordion">
    <cdk-accordion-item #accordionItem="cdkAccordionItem" [expanded]="defaultExpanded"   >
        <div
            class="example-accordion-item-header shadow-sm"
            [ngClass]="item.state === 0 ? 'inactive' :
            item.state ===98? 'obs':'active' "
            (click)="accordionItem.toggle()"
        >
        <ng-container *ngIf="this.registro?.predioPadron &&  codTypeGap!=='5'">
            Codigo de predio - {{ item.codCase}}  encontrado en padron de predios
            <mat-icon
               svgIcon="{{
                item.state === 0 ?  'iconsmind:manage':
                item.state ===98? 'iconsmind:manageObs':'iconsmind:manageTrue'
               }}"
           ></mat-icon>

        </ng-container>

        <ng-container *ngIf="!this.registro?.predioPadron &&  codTypeGap!=='5'">
            Predio no encontrado
            en el padron de predios
            <mat-icon
               svgIcon="{{
                item.state === 0 ?  'iconsmind:manage':
                item.state ===98? 'iconsmind:manageObs':'iconsmind:manageTrue'
               }}"
           ></mat-icon>

        </ng-container>

        <ng-container *ngIf="codTypeGap==='5'">
            Predio  {{ registro?.predioInspeccion?.codCpu }}
            <mat-icon
               svgIcon="{{
                item.state === 0 ?  'iconsmind:manage':
                item.state ===98? 'iconsmind:manageObs':'iconsmind:manageTrue'
               }}"
           ></mat-icon>

        </ng-container>


        </div>
        <div [style.display]="accordionItem.expanded ? '' : 'none'">
            <div class="grid grid-cols-1 gap-4 px-4 py-2">
                <div class="flex flex-col" *ngIf="this.registro?.predioPadron">
                    <strong><span>Dirección declarada</span></strong>
                    <span *ngIf="item?.landStatus === 1">
                      {{ registro?.c?.address ?? '  -  ' }}
                    </span>
                    <span *ngIf="item?.landStatus === 0">
                      {{ registro?.predioPadron?.municipalAddress  ?? '  -  ' }}
                    </span>
                    <!-- <span *ngIf="item?.landStatus !== 1 && item?.landStatus !== 0">

                    </span> -->
                </div>

                <div class="flex flex-col gap-4" *ngIf="this.registro?.predioPadron?.predioContribuyente[0]?.contribuyente " >
                    <div class="flex flex-col">
                        <strong><span>Nombres y apellidos</span></strong>
                        <span
                            >{{ registro?.predioPadron?.predioContribuyente[0]?.contribuyente?.apPat }} {{ registro?.predioPadron?.predioContribuyente[0]?.contribuyente?.apMat }}
                            {{ registro?.predioPadron?.predioContribuyente[0]?.contribuyente?.nombre }}</span
                        >
                    </div>


                </div>
                <div class="flex justify-between" *ngIf="item.codCPU && item.codCPU !=='' && item.landStatus===1">
                    <ng-container *ngIf="this.registro?.predioPadron?.predioContribuyente[0]?.contribuyente ">
                        <div class="flex flex-col" *ngIf="this.registro?.predioPadron ">
                            <strong><span>DNI</span></strong>
                            <span>{{ registro?.predioPadron?.predioContribuyente[0]?.contribuyente?.docIden }}</span>
                        </div>
                    </ng-container>

                    <div class="flex flex-col">
                        <strong><span>Codigo de CPU</span></strong>
                        <span>{{item.codCPU}}</span>
                    </div>
                </div>


            </div>

            <ng-container *ngIf=" item.state===0 ">

              <container-element [ngSwitch]="codTypeGap">
                <some-element *ngSwitchCase="1">
                    <div class="flex w-full " *ngIf="!iniciar" >
                        <button mat-button
                        class="green w-full rounded-md shadow-md text-white"
                        (click)="onClickOpenItem()"
                        >
                        Iniciar
                        </button>


                    </div>
                  <div class="flex w-full justify-around " *ngIf="iniciar" >

                    <button
                    class="btnGenerar green "
                    (click)="onClickGenerarPredio()"
                    [disabled]="predioButtonDisabled"
                      >
                    <mat-icon svgIcon="mat_solid:add_location_alt"></mat-icon>
                    Generar predio
                    </button>

                    <button
                    class="btnGenerar btnAdd "
                    (click)="onClickGenerarPuntoImagen()"
                    [disabled]="puntoImagenDisabled"
                    >
                    <mat-icon svgIcon="mat_solid:location_on"   ></mat-icon>
                    Generar punto imagen
                    </button>

                  </div>

                </some-element>

                <some-element *ngSwitchCase="2">
                    <div class="flex w-full " *ngIf="!iniciar" >
                        <button mat-button
                        class=" green w-full rounded-md shadow-md text-white"
                        (click)="onClickOpenItem()"
                        >
                        Iniciar
                        </button>


                    </div>
                    <div class="flex w-full justify-around gap-2"  *ngIf="iniciar">

                        <button class="btnGenerar w-full"    [disabled]="predioButtonDisabled" *ngIf="iniciar && item.landStatus === 0"   (click)="onClickGenerarPredio()" >
                            Generar predio
                          </button>

                          <button class="btnGenerar w-full"   [disabled]="predioButtonDisabled" *ngIf="iniciar &&  item.landStatus === 1"   (click)="onClickReasignarPredio()" >
                            Reasignar
                          </button>

                          <button class="btnNotify w-full" *ngIf="!registro?.predioPadron && iniciar  " (click)="onClickGenerarNotificacion()" >
                            Notificar
                        </button>
                    </div>


                </some-element>

                <some-element *ngSwitchCase="3">
                    <div class="flex w-full" *ngIf="!iniciar" >
                        <button
                        class="btnGenerar green w-full "
                        (click)="onClickOpenItem()"
                        >
                        Iniciar
                        </button>


                    </div>

                  <div class="flex w-full justify-around gap-2"  *ngIf="iniciar">

                    <button
                    class="btnGenerar green w-1/2 justify-around "
                    (click)="onClickValidarUbicacion()"
                    [disabled]="predioButtonDisabled"
                      >
                    <mat-icon svgIcon="mat_solid:location_on"></mat-icon>
                    Validar ubicación
                    </button>

                    <button
                    class="btnGenerar btnAdd w-1/2 justify-around"
                    (click)="onClickNuevaDireccion()"
                    [disabled]="puntoImagenDisabled"
                    >
                    <mat-icon svgIcon="mat_solid:add_location_alt"   ></mat-icon>
                    Nueva dirección
                    </button>

                    <!--<div class="flex w-full justify-around gap-2" *ngIf="ubicacion.status===0 && (ticket?.codTipoTicket==='2' || ticket?.codTipoTicket==='4'  )">

                        <button class=" btn btnAdd w-1/2 justify-around" (click)="onClickAprTicket()" [disabled] ="appButtonDisabled" >Aprobar </button>
                        <button class="btn btnObs w-1/2 justify-around" (click)="onClickObsTicket()"  [disabled]="obsButtonDisabled" >Observar </button>
                    </div>
                -->

                  </div>
                </some-element>


                <some-element *ngSwitchCase="4">

                    <div class="flex w-full" *ngIf="!iniciar" >
                        <button
                        class="btnGenerar green w-full "
                        (click)="onClickOpenItem()"
                        >
                        Iniciar
                        </button>


                    </div>

                    <button class="btnGenerar w-full"    [disabled]="predioButtonDisabled" *ngIf="iniciar  && registro?.predioPadron"   (click)="onClickValidarUbicacion()" >
                      Generar predio
                    </button>

                    <button class="btnNotify w-full" *ngIf="!registro?.predioPadron && iniciar  " (click)="onClickGenerarNotificacion()" >
                        Notificar
                    </button>


                </some-element>



                <some-element *ngSwitchCase="5">

                    <!--<div class="flex w-full " *ngIf="!iniciar" >
                        <button
                        class="btnGenerar green w-full "
                        (click)="onClickOpenItem()"
                        >
                        Iniciar
                        </button>


                    </div>-->

                    <button mat-button class="btnGenerar w-full rounded-md shadow-sm my-4"      (click)="onClickPrevisualizacion()" >
                        Verificar Ticket
                    </button>

                      <!--
                <div class="flex w-full justify-around ">
                    <button class="btnAdd2 self-end" (click)="previsualizacion(ubicacion.registrosTitularidad[0])" *ngIf="ubicacion?.status===0">Previsualizacion </button>
                </div>


                    <button class="btnGenerar w-full"    [disabled]="predioButtonDisabled" *ngIf="iniciar && item.landStatus === 0"   (click)="onClickGenerarPredio()" >
                      Generar predio
                    </button>

                    <button class="btnNotify w-full" *ngIf="iniciar && item.landStatus===1" (click)="onClickGenerarNotificacion()" >
                      Notificar
                    </button>
                -->
                </some-element>





            </container-element>



            </ng-container>

            <ng-container *ngIf=" item.state===6 ">

                <container-element [ngSwitch]="codTypeGap">

                  <some-element *ngSwitchCase="2">
                    <div class="flex w-full justify-around gap-2 m-2"  >
                        <button class="btnNotify w-full" *ngIf="!this.registro?.predioPadron " (click)="onClickDescargarNotificacion()" >
                            Descargar Notificacion
                        </button>
                    </div>



                  </some-element>



                  <some-element *ngSwitchCase="4">
                    <div class="flex w-full justify-around gap-2 m-2"  >
                        <button class="btnNotify w-full" *ngIf="!this.registro?.predioPadron " (click)="onClickDescargarNotificacion()" >
                            Descargar Notificacion
                        </button>
                    </div>




                  </some-element>



                  <some-element *ngSwitchCase="5">
                    <div class="flex w-full justify-around gap-2 m-2"  >
                        <button class="btnNotify w-full" (click)="onClickDescargarNotificacion()" >
                            Descargar Notificacion
                        </button>

                    </div>


                  </some-element>





              </container-element>



            </ng-container>
        </div>
    </cdk-accordion-item>
</cdk-accordion>
