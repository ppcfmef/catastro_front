<div class="flex flex-col flex-auto px-4 gap-4 " *ngIf="ticket && ubicacion">


    <div class="p-4" *ngIf="ubicacion?.status===98">
        <span>{{ubicacion?.obsUbicacion}}</span>
    </div>

    <div class="p-4" *ngIf="ubicacion?.status===98 && ubicacion?.fileObs">
        <a class="btn btnObs w-full justify-around" href="{{ubicacion?.fileObs}}" target="_blank"> Archivo Adjunto</a>
    </div>
    <div class="p-4">
        <app-dataland [ubicacion]="ubicacion" (clickPosition)="onClickPosition($event)" [ubigeo]="ubigeo" ></app-dataland>
    </div>

    <container-element   [ngSwitch]="ticket?.codTipoTicket">
        <some-element *ngSwitchCase="'1'">
            <app-case
            [defaultExpanded]="true"
            [predioButtonDisabled]="predioButtonDisabled"
            [puntoImagenDisabled]="puntoImagenDisabled"
            (eventGenerarPuntoImagen)="generarPuntoImagen($event)"
            (eventGenerarPredio)="generarPredio($event)"
            [disabled]="ubicacion?.status===0? false: true"
            [registro]="ubicacion.registrosTitularidad[0]"
            [codTypeGap]="ticket?.codTipoTicket"
            (eventOpenItem)="eventIniciarItem($event)"
            ></app-case>

        </some-element>
        <some-element *ngSwitchCase="'2'">
            <div class="flex flex-col flex-auto  gap-4">

                <ng-container *ngFor="let item of ubicacion?.registrosTitularidad">
                <ng-container *ngIf="item.codTipoTit ===1 ">
                    <div>
                        <app-case [registro] = 'item' [predioButtonDisabled]="predioButtonDisabled"
                        [codTypeGap]="ticket?.codTipoTicket" (eventGenerarPredio)="generarPredio($event)" (eventReasignarPredio)="reasignarPredio($event)" (eventOpenItem)="eventIniciarItem($event)"  [disabled]="ubicacion?.status===0? false: true"
                        [iniciar]="item.inicio"
                        (eventGenerarNotificacion)="generarNotificacionPredio($event)"
                        (eventDescargarNotificacion)="descargarNotificacionPredio($event)"
                        >
                    </app-case>
                    </div>
                </ng-container>
                <ng-container *ngIf="item.codTipoTit ===2 ">
                    <div>
                        <app-case-suministro [registro] = 'item'   [codTypeGap]="ticket?.codTipoTicket"
                          (eventOpenItem)="eventIniciarItem($event)" [disabled]="ubicacion?.status===0? false: true"  [iniciar]="item.inicio"
                          (eventGenerarNotificacion)="generarNotificacion($event)"
                          (eventDescargarNotificacion)="descargarNotificacion($event)" ></app-case-suministro>
                    </div>
                </ng-container>
            </ng-container>


            </div>

        </some-element>

        <some-element *ngSwitchCase="'3'">

            <app-case
            [defaultExpanded]="true"
            [predioButtonDisabled]="predioButtonDisabled"
            [puntoImagenDisabled]="puntoImagenDisabled"
            (eventNuevaDireccion)="generarNuevaDireccionPuntoImagen($event)"
            (eventValidarUbicacion)="validarUbicacionPuntoImagen($event)"
            [disabled]="ubicacion?.status===0? false: true"
            [registro]="ubicacion.registrosTitularidad[0]"
            [codTypeGap]="ticket?.codTipoTicket"
            (eventOpenItem)="eventIniciarItem($event)"
            ></app-case>
        </some-element>


        <some-element *ngSwitchCase="'4'">
            <div class="flex flex-col flex-auto  gap-4">

                <ng-container *ngFor="let item of ubicacion?.registrosTitularidad">
                <ng-container *ngIf="item.codTipoTit ===1 ">
                    <div>
                        <app-case [registro] = 'item' [predioButtonDisabled]="predioButtonDisabled"
                        [codTypeGap]="ticket?.codTipoTicket" (eventValidarUbicacion)="generarNuevoLotePredio($event)"     (eventGenerarNotificacion)="generarNotificacionPredio($event)"
                        (eventDescargarNotificacion)="descargarNotificacionPredio($event)" (eventOpenItem)="eventIniciarItem($event)"  [disabled]="ubicacion?.status===0? false: true" ></app-case>
                    </div>
                </ng-container>
                <ng-container *ngIf="item.codTipoTit ===2 ">
                    <div>
                        <app-case-suministro [registro] = 'item'   [codTypeGap]="ticket?.codTipoTicket"
                        (eventGenerarNotificacion)="generarNotificacion($event)"  (eventOpenItem)="eventIniciarItem($event)" [disabled]="ubicacion?.status===0? false: true" (eventDescargarNotificacion)="descargarNotificacion($event)" ></app-case-suministro>
                    </div>
                </ng-container>
            </ng-container>


            </div>

        </some-element>

        <some-element *ngSwitchCase="'5'">
            <div class="flex flex-col flex-auto  gap-4">

                <app-case [defaultExpanded]="true" [registro] = 'ubicacion.registrosTitularidad[0]' [predioButtonDisabled]="predioButtonDisabled"
                [codTypeGap]="ticket?.codTipoTicket"  (eventOpenItem)="eventIniciarItem($event)"  [disabled]="ubicacion?.status===0? false: true"
                (eventDescargarNotificacion)="descargarNotificacionPredioSubvaluado($event)" (eventPrevisualizacion) ="previsualizacion($event)"
                >
                </app-case>




            </div>

        </some-element>
        </container-element>
    <div class="flex w-full justify-around gap-2" *ngIf="ubicacion.status===0 && (ticket?.codTipoTicket==='2' || ticket?.codTipoTicket==='4'  )">

        <button class=" btn btnAdd w-1/2 justify-around" (click)="onClickAprTicket()" [disabled] ="appButtonDisabled" >Aprobar </button>
        <button class="btn btnObs w-1/2 justify-around" (click)="onClickObsTicket()"  [disabled]="obsButtonDisabled" >Observar </button>
    </div>

    <div class="flex w-full justify-around " *ngIf="ubicacion.status===0 && (ticket?.codTipoTicket==='1' || ticket?.codTipoTicket==='3' || ticket?.codTipoTicket==='5' )">


        <button class="btn btnObs w-full justify-around"  (click)="onClickObsTicket()"  [disabled]="obsButtonDisabled" >Observar </button>
    </div>
</div>
