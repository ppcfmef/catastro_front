<table mat-table [dataSource]="dataSource" class="mat-elevation-z0 table-color-primary w-full">
    <ng-container [matColumnDef]="typePermission.code" *ngFor="let typePermission of typePermissions; let colIndex = index">
        <th mat-header-cell *matHeaderCellDef> {{ typePermission.description }} </th>
        <ng-container *ngIf="colIndex === 0">
            <td mat-cell *matCellDef="let element">
                <span class="text-gray-600 font-bold">{{ element.fullTitle }}</span>
            </td>
        </ng-container>
        <ng-container *ngIf="colIndex > 0">
            <td mat-cell *matCellDef="let element">
                <mat-checkbox class="example-margin"
                              (ngModelChange)="updatePermission(typePermission.code, element)"
                              [(ngModel)]="element[typePermission.code]"
                              ></mat-checkbox>
            </td>
        </ng-container>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
    <tr mat-row *matRowDef="let row; columns: columnsToDisplay;"></tr>
</table>
