<div class="flex flex-col w-full">

    <!-- Header -->
    <div class="relative w-full h-20 sm:h-20 px-8 sm:px-12 bg-accent-100 dark:bg-accent-700">
        <!-- Close button -->
        <div class="flex items-center justify-end w-full max-w-3xl mx-auto pt-6">
            <button
                mat-icon-button
                [matTooltip]="'Close'"
                [routerLink]="['../']">
                <mat-icon
                    class="text-blue-500"
                    [svgIcon]="'heroicons_outline:x'"></mat-icon>
            </button>
        </div>
    </div>


    <div class="relative flex flex-col flex-auto items-center px-6 sm:px-12">
        <div class="w-full max-w-3xl">
            <form [formGroup]="roleForm">

                <!-- Title -->
                <div
                    class="mt-3 text-4xl font-bold truncate">{{ id ? 'Editar rol' : 'Nuevo rol'}}</div>

                <div class="mt-3">
                    <div class="space-y-4">
                        <div class="flex">
                            <mat-form-field
                                class="fuse-mat-no-subscript flex-auto flex-auto">
                                <mat-label>Nombre</mat-label>
                                <mat-icon
                                    matPrefix
                                    class="hidden sm:flex icon-size-5"
                                    [svgIcon]="'heroicons_solid:tag'"></mat-icon>
                                <input
                                    matInput
                                    required
                                    [formControlName]="'name'"
                                    [placeholder]="'Nombre'">
                            </mat-form-field>
                        </div>
                    </div>
                </div>

                <div class="mt-3">
                    <div class="space-y-4">
                        <div class="flex">
                            <mat-form-field
                                class="fuse-mat-no-subscript flex-auto flex-auto">
                                <mat-label>Descripcion</mat-label>
                                <mat-icon
                                    matPrefix
                                    class="hidden sm:flex icon-size-5"
                                    [svgIcon]="'heroicons_solid:tag'"></mat-icon>
                                <input
                                    matInput
                                    [formControlName]="'description'"
                                    [placeholder]="'Descripcion'">
                            </mat-form-field>
                        </div>
                    </div>
                </div>

                <div class="mt-3">
                <mat-form-field class="fuse-mat-no-subscript w-full">
                    <mat-label>Permisos</mat-label>
                    <mat-icon
                        matPrefix
                        class="hidden sm:flex icon-size-5"
                        [svgIcon]="'heroicons_solid:view-boards'"></mat-icon>
                    <mat-select formControlName="permissions" multiple>
                        <ng-container *ngFor="let permission of permissions$ | async">
                            <mat-option [value]="permission.id">{{ permission.description }}</mat-option>
                        </ng-container>
                    </mat-select>
                </mat-form-field>
                </div>

                <!-- contraseÃ±a -->
                <div class="mt-3">
                    <div class="space-y-4">
                        <div class="flex">
                            <mat-slide-toggle class="mat-toggle-confirm" [formControlName]="'isActive'">Activo</mat-slide-toggle>
                        </div>
                    </div>
                </div>

                <!-- Actions -->
                <div
                    class="flex items-center mt-10 -mx-6 sm:-mx-12 py-4 pr-4 pl-1 sm:pr-12 sm:pl-7 border-t bg-gray-50 dark:bg-transparent">
                    <!-- Delete -->
                    <ng-container *ngIf="id">
                        <button
                            mat-button
                            [color]="'warn'"
                            [matTooltip]="'Eliminar rol'"
                            (click)="delete()">
                            Eliminar
                        </button>
                    </ng-container>
                    <!-- Cancel -->
                    <button
                        class="ml-auto btn-confirm "
                        mat-flat-button
                        [color]="'primary'"
                        [matTooltip]="'Cancelar'"
                        [routerLink]="['../']">
                        Cancelar
                    </button>
                    <!-- Save -->
                    <button
                        class="ml-2 btn-green"
                        mat-flat-button
                        (click)="updateRole()"
                        [color]="'primary'"
                        [matTooltip]="'Guardar / actualizar rol'">
                        Guardar
                    </button>
                </div>

            </form>
        </div>
    </div>

</div>
