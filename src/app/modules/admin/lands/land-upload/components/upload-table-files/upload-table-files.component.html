<ng-container *ngIf="posicionExcel">
    <div class="flex flex-col gap-3">
        <div class="text-2xl font-extrabold tracking-tight leading-none">{{ title }}</div>
        <div class="flex flex-col">
            <table [ngClass]="styleTable" mat-table [dataSource]="dataSource" class="shadow bg-card w-full">

                
                <ng-container matColumnDef="index">
                    <th mat-header-cell *matHeaderCellDef> No.</th>
                    <td mat-cell *matCellDef="let element; let i = index;"> {{ params['offset'] + i +1 }} </td>
                </ng-container>

                <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef> Estado</th>
                    <td mat-cell *matCellDef="let element"> {{ element.status }} </td>
                </ng-container>
    
                <ng-container matColumnDef="errorCode">
                    <th mat-header-cell *matHeaderCellDef> Código</th>
                    <td mat-cell *matCellDef="let element"> {{element.errorCode ?? "VALIDO" }} </td>
                </ng-container>
    
    
                <ng-container matColumnDef="data">
                    <th mat-header-cell *matHeaderCellDef> Fila Excel </th>                
                    <ng-container >
                        <td mat-cell *matCellDef="let element"> {{element.record | json | slice:0:120 }}... (Descargar para ver todo) </td>
                    </ng-container>                
                </ng-container>
    
    
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
            <mat-paginator #paginator [pageSize]="params.limit" [pageSizeOptions]="[5, 10, 25, 50, 100, 250, 500]" (page)="page($event)">
            </mat-paginator>
        </div>
        <div class="flex flex-row-reverse" *ngIf="isDownload">
            <button class="justify-end mat-focus-indicator mat-flat-button mat-button-base mat-primary" (click)="eventDownload.emit()">
                <mat-icon svgIcon="heroicons_outline:document-download"></mat-icon>
                <span class="ml-2 mr-1">Descargar</span>
            </button>
        </div>
    </div>
</ng-container>

<ng-container *ngIf="!posicionExcel">
    <div class="flex flex-col gap-3">
        <div class="text-2xl font-extrabold tracking-tight leading-none">{{ title }}</div>
        <div class="flex flex-col">
            <table [ngClass]="styleTable" mat-table [dataSource]="dataSource" class="shadow bg-card w-full">

                
                <ng-container matColumnDef="index">
                    <th mat-header-cell *matHeaderCellDef> No.</th>
                    <td mat-cell *matCellDef="let element; let i = index;"> {{ params['offset'] + i +1 }} </td>
                </ng-container>
    
    
                <ng-container matColumnDef="depCensal">
                    <th mat-header-cell *matHeaderCellDef> Dep. Censal </th>                
                    <ng-container>
                        <td mat-cell *matCellDef="let element"> {{element.sede.departamento.sede}} </td>
                    </ng-container>              
                </ng-container>
                
                <ng-container matColumnDef="provCensal">
                    <th mat-header-cell *matHeaderCellDef> Prov. Censal </th>                
                    <ng-container>
                        <td mat-cell *matCellDef="let element"> {{element.sede.sede}} </td>
                    </ng-container>              
                </ng-container>

                <ng-container matColumnDef="distCensal">
                    <th mat-header-cell *matHeaderCellDef> Dist. Censal </th>                
                    <ng-container>
                        <td mat-cell *matCellDef="let element"> {{element.distritoCensal}} </td>
                    </ng-container>              
                </ng-container>

                <ng-container matColumnDef="jb">
                    <th mat-header-cell *matHeaderCellDef> Nro. JB </th>                
                    <ng-container>
                        <td mat-cell *matCellDef="let element"> {{element.brigada}} </td>
                    </ng-container>              
                </ng-container>

                <ng-container matColumnDef="empadronador">
                    <th mat-header-cell *matHeaderCellDef> Nro. Emp </th>                
                    <ng-container>
                        <td mat-cell *matCellDef="let element"> {{element.empadronador}} </td>
                    </ng-container>              
                </ng-container>

                <ng-container matColumnDef="periodo">
                    <th mat-header-cell *matHeaderCellDef> Periodo </th>                
                    <ng-container>
                        <td mat-cell *matCellDef="let element"> {{element.periodo}} </td>
                    </ng-container>              
                </ng-container>


                <ng-container matColumnDef="nivel">
                    <th mat-header-cell *matHeaderCellDef> Nivel </th>                
                    <ng-container>
                        <td mat-cell *matCellDef="let element"> {{element.nivel}} </td>
                    </ng-container>              
                </ng-container>

                <ng-container matColumnDef="codigo">
                    <th mat-header-cell *matHeaderCellDef>Código </th>                
                    <ng-container>
                        <td mat-cell *matCellDef="let element"> {{element.codigo}} </td>
                    </ng-container>              
                </ng-container>

                <ng-container matColumnDef="ruta">
                    <th mat-header-cell *matHeaderCellDef> Ruta </th>                
                    <ng-container>
                        <td mat-cell *matCellDef="let element"> {{element.ruta}} </td>
                    </ng-container>              
                </ng-container>
    
                <ng-container *ngIf="!posicionExcel" matColumnDef="estadoUdra">
                    <th mat-header-cell *matHeaderCellDef> Estado UDRA</th>
                    <td mat-cell *matCellDef="let element"> {{element.estadoUdra?'Recepcionado':'Pendiente'}} </td>
                </ng-container>
    
    
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
            <mat-paginator #paginator [pageSize]="params.limit" [pageSizeOptions]="[5, 10, 25, 50, 100, 250, 500]" (page)="page($event)">
            </mat-paginator>
        </div>
        <div class="flex flex-row-reverse" *ngIf="isDownload">
            <button class="justify-end mat-focus-indicator mat-flat-button mat-button-base mat-primary" (click)="eventDownload.emit()">
                <mat-icon svgIcon="heroicons_outline:document-download"></mat-icon>
                <span class="ml-2 mr-1">Descargar</span>
            </button>
        </div>
    </div>
</ng-container>



